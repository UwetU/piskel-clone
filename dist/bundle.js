!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i(1);function s(e){h.clearRect(0,0,d.width,d.height);let t=d.width/e;for(let i=0;i<t;i++)for(let s=0;s<t;s++)h.strokeStyle="#3DA35D",h.strokeRect(e*i,e*s,e,e);let i=O.getElementsByTagName("option");for(let e=0;e<i.length;e++)"1"===i[e].value&&(i[e].selected=!0)}let n=0,a=0,c=4;function o(){r!=E.value&&(p.style.background=r)}function l(){this.classList.add("active"),this==m?(f.classList.remove("active"),L.classList.remove("active"),g.classList.remove("active"),y.classList.remove("active")):this==f?(m.classList.remove("active"),L.classList.remove("active"),g.classList.remove("active"),y.classList.remove("active")):this==L?(f.classList.remove("active"),m.classList.remove("active"),g.classList.remove("active"),y.classList.remove("active")):this==g?(f.classList.remove("active"),m.classList.remove("active"),y.classList.remove("active"),L.classList.remove("active")):(f.classList.remove("active"),m.classList.remove("active"),g.classList.remove("active"),L.classList.remove("active"))}let r,d=document.getElementById("canvas_one"),v=document.getElementById("canvas_two"),u=v.getContext("2d"),m=document.getElementById("bucket"),f=document.getElementById("pencil"),g=document.getElementById("eraser"),L=document.getElementById("pipette"),h=d.getContext("2d"),y=document.getElementById("stroke"),E=document.getElementById("currentColor"),p=document.getElementById("prevColor"),b=document.getElementById("btnPrevColor"),k=document.getElementById("selectSize"),w=document.getElementById("newFrame"),I=document.getElementById("frameGridCanvas"),C=I.getContext("2d"),B=document.getElementById("frameDrawCanvas"),S=B.getContext("2d"),O=document.getElementById("selectSizePencil"),x={choose:67,pen:80,fill:66,erase:69},P=!1,D=0,j=0,X=E.value;r=X,d.width=512,d.height=512,v.width=512,v.height=512,I.width=128,I.height=128,B.width=128,B.height=128,p.style.background=X,s(c),m.addEventListener("click",l),f.addEventListener("click",l),L.addEventListener("click",l),g.addEventListener("click",l),y.addEventListener("click",l),b.addEventListener("click",()=>{let e=E.value;E.value=RGBToHex(p.style.background),p.style.background=e}),E.addEventListener("change",()=>{o(),r=E.value}),v.addEventListener("click",(function(){if(m.classList.contains("active")){u.globalCompositeOperation="source-over";let e=v.width/c;for(let t=0;t<e;t++)for(let i=0;i<e;i++)u.fillStyle=E.value,u.fillRect(c*t,c*i,c,c)}})),v.addEventListener("click",(function(e){if(L.classList.contains("active")){u.globalCompositeOperation="source-over";let t=u.getImageData(e.offsetX,e.offsetY,1,1).data,i="rgb(";for(let e=0;e<t.length;e++)i+=3==e?")":t[e]+", ";E.value=function(e){let t=e.indexOf(",")>-1?",":" ",i=(+(e=e.substr(4).split(")")[0].split(t))[0]).toString(16),s=(+e[1]).toString(16),n=(+e[2]).toString(16);return 1==i.length&&(i="0"+i),1==s.length&&(s="0"+s),1==n.length&&(n="0"+n),"#"+i+s+n}(i),o()}})),v.addEventListener("mousemove",(function(e){if(f.classList.contains("active")){if(!P)return;u.globalCompositeOperation="source-over",u.fillStyle=E.value;let t=function(e,t,i){let s=t%e,n={X:0,Y:0};return n.X=s>=e/2?t-s+e:t-s,s=i%e,n.Y=s>=e/2?i-s+e:i-s,n}(c,e.offsetX,e.offsetY);u.fillRect(t.X,t.Y,c,c),u.fill(),[a,n]=[t.X,t.Y]}})),v.addEventListener("mousemove",(function(e){if(g.classList.contains("active")){if(!P)return;let t=e.offsetX,i=e.offsetY;u.globalCompositeOperation="destination-out",u.beginPath(),u.strokeStyle="rgba(255,255,255,1)",u.arc(t,i,10,0,2*Math.PI),u.fill(),u.lineWidth=5,u.moveTo(a,n),u.lineTo(t,i),u.stroke(),u.closePath(),[a,n]=[t,i]}})),v.addEventListener("mousedown",e=>{P=!0,[D,j]=[e.offsetX,e.offsetY]}),v.addEventListener("mouseup",()=>P=!1),v.addEventListener("mouseout",()=>P=!1),document.addEventListener("keydown",(function(e){e.keyCode===x.fill&&(m.classList.add("active"),f.classList.remove("active"),L.classList.remove("active"),g.classList.remove("active")),e.keyCode===x.pen&&(f.classList.add("active"),m.classList.remove("active"),L.classList.remove("active"),g.classList.remove("active")),e.keyCode===x.choose&&(L.classList.add("active"),m.classList.remove("active"),f.classList.remove("active"),g.classList.remove("active")),e.keyCode===x.erase&&(g.classList.add("active"),m.classList.remove("active"),f.classList.remove("active"),L.classList.remove("active"))})),k.addEventListener("change",(function(){let e=selectSize.value;c=d.width/e,u.clearRect(0,0,v.width,v.height),s(c)})),selectSizePencil.addEventListener("change",(function(){let e=O.value,t=selectSize.value;c=v.width/t*e})),w.addEventListener("click",()=>{let e=document.createElement("div");e.classList.add("frame"),w.insertAdjacentElement("beforebegin",e)}),document.addEventListener("DOMContentLoaded",()=>{let e=h.getImageData(0,0,d.width,d.height);C.putImageData(e,0,0,0,0,I.width,I.height),S.scale(.5,.5),S.scale(.5,.5),k.addEventListener("change",()=>{e=h.getImageData(0,0,d.width,d.height),C.putImageData(e,0,0,0,0,I.width,I.height),B.width=B.width,S.scale(.5,.5),S.scale(.5,.5)}),v.addEventListener("mouseup",()=>{S.drawImage(v,0,0)})})},function(e,t){}]);